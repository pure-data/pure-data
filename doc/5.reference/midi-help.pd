#N canvas 184 23 1071 723 12;
#X obj 529 228 noteout;
#X obj 675 312 pgmout;
#X obj 560 312 bendout;
#X floatatom 26 423 5 0 0 0 - - - 0;
#X text 31 355 pitch bend, f 5;
#X obj 675 237 ctlout;
#X obj 779 312 touchout;
#X obj 895 312 polytouchout;
#X obj 69 523 midiin;
#X obj 411 521 sysexin;
#X obj 794 641 midiout;
#X obj 241 531 midirealtimein;
#X obj 241 395 touchin;
#X obj 350 375 polytouchin;
#X obj 26 167 notein;
#X text 79 219 velocity;
#X text 90 193 channel;
#X obj 280 159 ctlin;
#X text 311 247 value;
#X text 450 403 channel;
#X text 235 355 channel aftertouch, f 10;
#X text 351 334 polyphonic aftertouch, f 10;
#X text 382 449 aftertouch value;
#X floatatom 251 317 0 0 0 0 - - - 0;
#X text 279 318 value;
#X text 22 147 (omni);
#X obj 166 192 notein 1;
#X text 157 157 (channel 1);
#X text 324 158 (all controllers \, omni);
#X floatatom 55 311 0 0 0 0 - - - 0;
#X text 12 312 value;
#X obj 55 285 ctlin 4;
#X floatatom 101 311 0 0 0 0 - - - 0;
#X text 507 172 note;
#X text 886 246 touch;
#X text 931 255 note;
#X text 111 284 (controller 4);
#X text 707 158 value;
#X text 740 211 channel;
#X obj 848 210 ctlout 7;
#X text 236 585 real-time messages;
#X text 32 480 These three below are always omni \, don't take arguments and output the port number on the right outlet:;
#X text 725 185 controller #;
#X text 327 217 controller #;
#X text 61 241 note;
#X text 159 243 note;
#X text 200 243 velocity;
#X text 419 426 note;
#X obj 26 395 bendin, f 7;
#X text 612 197 channel;
#X text 548 171 velocity;
#X text 393 577 system exclusive messages only \, byte by byte, f 16;
#X text 886 262 value;
#X text 339 185 channel/port;
#X text 165 171 (port 1);
#X text 129 313 channel/port;
#X obj 251 287 ctlin 7 17;
#X text 329 281 (controller 7 \, channel 1/port 2), f 17;
#X text 15 8 MIDI INPUTS: Inputs are omni by default \, an optional argument sets the channel/port and removes the rightmost outlet (which outputs this information). For [ctlin] \, a first optional argument sets controller number and suppresses its corresponding outlet \, and a second argument sets the channel and also suppresses its corresponding outlet., f 70;
#X text 550 55 MIDI OUTPUTS: Outputs are set to channel 1 / port 1 by default \, but they also take a channel/port argument (where channels from 17 represent port 2 \, from 33 port 3 and so on). The [ctlout] object takes control and channel/port arguments. Inlets are not suppressed by arguments and change the parameters., f 67;
#X text 808 143 (controller 7 \, channel/port 1), f 15;
#X obj 959 210 ctlout 3 38;
#X text 15 89 Port number is encoded as the channel number. Channels 1 to 16 are for port 1 \, channels 17 to 32 is the same as channels 1 to 16 for port 2 \, channels 33 to 48 represents channels 1 to 16 in port 3 \, and so on..., f 70;
#X text 839 682 updated for Pd version 0.48-2;
#X text 938 143 (controller 3 \, channel 6/port 3), f 17;
#X floatatom 26 241 4 0 127 0 - - - 0;
#X floatatom 588 197 0 1 64 0 - - - 0;
#X floatatom 560 286 5 0 0 0 - - - 0;
#X floatatom 45 218 4 0 127 0 - - - 0;
#X floatatom 166 221 4 0 127 0 - - - 0;
#X floatatom 280 246 4 0 127 0 - - - 0;
#X floatatom 296 217 4 0 127 0 - - - 0;
#X floatatom 387 425 4 0 127 0 - - - 0;
#X floatatom 350 447 4 0 127 0 - - - 0;
#X floatatom 127 423 4 0 127 0 - - - 0;
#X floatatom 241 423 4 0 127 0 - - - 0;
#X floatatom 69 552 4 0 127 0 - - - 0;
#X floatatom 241 560 4 0 127 0 - - - 0;
#X floatatom 108 552 4 0 127 0 - - - 0;
#X floatatom 411 550 4 0 127 0 - - - 0;
#X floatatom 457 556 4 0 127 0 - - - 0;
#X floatatom 336 560 4 0 127 0 - - - 0;
#X floatatom 959 183 4 0 127 0 - - - 0;
#X floatatom 848 183 4 0 127 0 - - - 0;
#X floatatom 694 184 4 0 127 0 - - - 0;
#X floatatom 675 157 4 0 127 0 - - - 0;
#X floatatom 552 197 4 0 127 0 - - - 0;
#X floatatom 514 197 4 0 127 0 - - - 0;
#X floatatom 675 286 4 0 127 0 - - - 0;
#X floatatom 779 286 4 0 127 0 - - - 0;
#X floatatom 895 286 4 0 127 0 - - - 0;
#X floatatom 935 286 4 0 127 0 - - - 0;
#X floatatom 714 210 0 1 64 0 - - - 0;
#X floatatom 312 184 0 1 64 0 - - - 0;
#X floatatom 219 220 0 1 64 0 - - - 0;
#X floatatom 65 193 0 1 64 0 - - - 0;
#X floatatom 72 423 0 1 64 0 - - - 0;
#X floatatom 287 423 0 1 64 0 - - - 0;
#X floatatom 424 403 0 1 64 0 - - - 0;
#X text 558 12 MIDI Input/Output objects;
#X obj 127 395 pgmin 2;
#X text 110 353 program change (channel 2), f 14;
#X text 73 444 ch;
#X text 289 443 ch;
#X text 20 444 value;
#X text 159 424 value;
#X text 233 443 value;
#X obj 526 40 cnv 1 540 1 empty empty empty 8 12 0 13 #000000 #000000 0;
#X obj 7 671 cnv 1 1055 1 empty empty empty 8 12 0 13 #000000 #000000 0;
#N canvas 502 23 566 293 reference 0;
#N canvas 686 71 588 563 reference 0;
#X obj 18 46 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 83 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 199 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 253 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X obj 39 16 notein;
#X text 135 58 NONE;
#X text 93 15 - MIDI note input;
#X obj 18 135 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 107 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X text 146 112 float - MIDI note pitch., f 27;
#X text 146 140 float - MIDI note velocity.;
#X obj 18 161 cnv 1 550 1 empty empty 3rd: 8 12 0 13 #7c7c7c #000000 0;
#X text 146 166 float - MIDI channel (if no argument is given).;
#X obj 18 336 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 453 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 489 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 525 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 154 462 NONE;
#X obj 18 395 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 367 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X text 146 372 float - MIDI note pitch., f 27;
#X text 146 400 float - MIDI note velocity.;
#X obj 18 421 cnv 1 550 1 empty empty 3rd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 29 306 noteout;
#X text 93 305 - MIDI note output;
#X text 146 426 float - MIDI channel.;
#X text 55 224 1) float - sets MIDI channel and suppresses 3rd outlet (default OMNI)., f 70;
#X text 141 498 1) float - sets MIDI channel/port (default 1).;
#X restore 383 19 pd reference;
#X obj 230 19 notein;
#X text 350 20 ==>;
#X obj 286 19 noteout;
#N canvas 692 23 584 587 reference 0;
#X obj 18 46 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 83 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 196 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 270 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 135 58 NONE;
#X obj 18 135 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 107 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 161 cnv 1 550 1 empty empty 3rd: 8 12 0 13 #7c7c7c #000000 0;
#X text 146 168 float - MIDI channel (if no argument is given).;
#X obj 18 356 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 473 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 509 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 567 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 174 482 NONE;
#X obj 39 16 ctlin;
#X text 89 15 - MIDI control input;
#X text 146 112 float - control value., f 27;
#X obj 29 326 ctlout;
#X text 83 325 - MIDI control output;
#X text 146 140 float - MIDI control number (if no argument is given).;
#X obj 17 415 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 17 387 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X obj 17 441 cnv 1 550 1 empty empty 3rd: 8 12 0 13 #7c7c7c #000000 0;
#X text 165 392 float - control value., f 27;
#X text 165 420 float - MIDI control number.;
#X text 139 519 1) float - sets control number (default 0)., f 46;
#X text 55 221 1) float - sets control number and suppresses 2nd outlet (default ALL)., f 71;
#X text 55 241 2) float - sets MIDI channel and suppresses 3rd outlet (default OMNI)., f 70;
#X text 165 448 float - MIDI channel.;
#X text 140 539 2) float - sets MIDI channel/port (default 1).;
#X restore 383 59 pd reference;
#X text 350 60 ==>;
#X obj 242 59 ctlin;
#X obj 292 59 ctlout;
#N canvas 706 82 584 551 reference 0;
#X obj 18 46 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 83 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 172 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 226 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 135 58 NONE;
#X obj 18 135 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 107 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X text 146 144 float - MIDI channel (if no argument is given).;
#X obj 18 356 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 450 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 486 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 527 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 174 459 NONE;
#X obj 17 415 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 17 387 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X text 155 392 float - control value., f 27;
#X obj 39 16 bendin;
#X text 92 15 - MIDI pitch bend input.;
#X text 55 197 1) float - sets MIDI channel and suppresses 2nd outlet (default OMNI)., f 70;
#X text 146 112 float - pitch bend value., f 27;
#X obj 29 326 bendout;
#X text 155 420 float - MIDI channel number.;
#X text 93 325 - MIDI pitch bend output;
#X text 130 497 1) float - sets MIDI channel/port (default 1).;
#X restore 383 95 pd reference;
#X text 350 96 ==>;
#X obj 228 95 bendin;
#X obj 284 95 bendout;
#N canvas 706 82 584 554 reference 0;
#X obj 18 46 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 83 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 172 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 226 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 135 58 NONE;
#X obj 18 135 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 107 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X text 146 144 float - MIDI channel (if no argument is given).;
#X obj 18 356 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 450 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 486 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 527 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 174 459 NONE;
#X obj 17 415 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 17 387 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X text 55 197 1) float - sets MIDI channel and suppresses 2nd outlet (default OMNI)., f 71;
#X text 155 420 float - MIDI channel number.;
#X obj 39 16 pgmin;
#X obj 29 326 pgmout;
#X text 93 325 - MIDI program output;
#X text 92 15 - MIDI program input.;
#X text 130 497 1) float - sets MIDI channel/port (default 1).;
#X text 146 112 float - program value (from 1 to 128).;
#X text 155 392 float - program value (from 1 to 128).;
#X restore 383 131 pd reference;
#X text 350 132 ==>;
#X obj 242 131 pgmin;
#X obj 291 131 pgmout;
#N canvas 706 82 584 561 reference 0;
#X obj 18 46 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 83 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 172 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 226 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 135 58 NONE;
#X obj 18 135 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 107 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X text 146 144 float - MIDI channel (if no argument is given).;
#X obj 18 356 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 450 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 486 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 527 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 174 459 NONE;
#X obj 17 415 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 17 387 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X text 55 197 1) float - sets MIDI channel and suppresses 2nd outlet (default OMNI)., f 70;
#X text 155 420 float - MIDI channel number.;
#X obj 39 16 touchin;
#X text 104 16 - MIDI channel aftertouch input.;
#X text 146 112 float - channel aftertouch value.;
#X obj 29 326 touchout;
#X text 93 325 - MIDI channel aftertouch output.;
#X text 155 392 float - channel aftertouch value.;
#X text 130 497 1) float - sets MIDI channel/port (default 1).;
#X restore 383 168 pd reference;
#X text 350 169 ==>;
#X obj 217 168 touchin;
#X obj 277 168 touchout;
#N canvas 666 100 588 554 reference 0;
#X obj 18 46 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 83 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 196 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 250 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 135 58 NONE;
#X obj 18 135 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 107 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 161 cnv 1 550 1 empty empty 3rd: 8 12 0 13 #7c7c7c #000000 0;
#X text 146 166 float - MIDI channel (if no argument is given).;
#X obj 18 336 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 453 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 489 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 525 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 154 462 NONE;
#X obj 18 395 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 367 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 421 cnv 1 550 1 empty empty 3rd: 8 12 0 13 #7c7c7c #000000 0;
#X text 146 426 float - MIDI channel.;
#X text 55 221 1) float - sets MIDI channel and suppresses 3rd outlet (default OMNI)., f 70;
#X obj 39 16 polytouchin;
#X text 133 16 - MIDI polyphonic aftertouch input.;
#X obj 29 306 polytouchout;
#X text 131 305 - MIDI polyphonic aftertouch output.;
#X text 146 112 float - aftertouch value., f 27;
#X text 146 140 float - MIDI note pitch.;
#X text 146 372 float - aftertouch value., f 27;
#X text 146 400 float - MIDI note pitch.;
#X text 141 498 1) float - sets MIDI channel/port (default 1).;
#X restore 383 209 pd reference;
#X text 350 210 ==>;
#X obj 160 209 polytouchin;
#X obj 250 209 polytouchout;
#X obj 64 247 midiin;
#X obj 226 247 sysexin;
#X obj 118 247 midirealtimein;
#X obj 284 247 midiout;
#N canvas 658 145 583 559 reference 0;
#X obj 18 46 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 83 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 199 cnv 2 550 2 empty empty ARGUMENTS: 8 12 0 13 #202020 #000000 0;
#X obj 17 233 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 135 58 NONE;
#X obj 18 162 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 107 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X obj 18 336 cnv 5 550 5 empty empty INLETS: 8 18 0 13 #202020 #000000 0;
#X obj 18 450 cnv 2 550 2 empty empty OUTLETS: 8 12 0 13 #202020 #000000 0;
#X obj 18 486 cnv 2 550 2 empty empty ARGUMENT: 8 12 0 13 #202020 #000000 0;
#X obj 17 523 cnv 5 550 5 empty empty empty 8 18 0 13 #202020 #000000 0;
#X text 174 459 NONE;
#X obj 17 415 cnv 1 550 1 empty empty 2nd: 8 12 0 13 #7c7c7c #000000 0;
#X obj 17 367 cnv 1 550 1 empty empty 1st: 8 12 0 13 #7c7c7c #000000 0;
#X obj 33 12 midiin;
#X obj 195 12 sysexin;
#X obj 87 12 midirealtimein;
#X text 156 208 none;
#X text 146 171 float - port number.;
#X text 70 116 float -;
#X obj 29 306 midiout;
#X text 259 13 - raw \, realtime and sysex input.;
#X text 155 420 float - port number.;
#X text 174 494 NONE;
#X text 155 372 float - raw MIDI stream.;
#X text 162 392 list - MIDI packets.;
#X text 87 305 - raw MIDI output (including real time and sysex).;
#X text 128 117 midiin: raw MIDI (except real-time messages) \, midirealtimein: real-time messages \, sysexin: system exclusive messages., f 61;
#X restore 383 246 pd reference;
#X text 350 247 ==>;
#X restore 856 9 pd reference;
#X text 954 10 <= click;
#X obj 526 4 cnv 1 1 35 empty empty empty 8 12 0 13 #000000 #000000 0;
#X floatatom 794 591 4 0 0 0 - - - 0;
#X text 563 573 In order to use MIDI Input or output objects \, be sure to set MIDI devices in:, f 29;
#X text 593 624 Preferences --> MIDI;
#X msg 794 562 144 \, 68 \, 120;
#X text 891 556 note on as a stream of raw MIDI., f 19;
#X text 919 592 note off as a MIDI packet list, f 18;
#X text 540 498 Raw MIDI output is provided by [midiout]. It deals with a stream of floats or MIDI packet lists. It doesn't take arguments and the 2nd inlet sets port number. You can use [midiout] to send raw real-time and sysex messages as well., f 70;
#X text 75 166 *;
#X text 81 394 **;
#X text 184 394 ***;
#X text 585 229 *;
#X text 615 311 **;
#X text 724 311 ***;
#X text 539 407 ** Known bug: [bendin] and [bendout] are inconsistent ([bendin] outputs values from 0 to 16383 and [bendout] takes values from -8192 to 8191) - this won't change., f 70;
#X text 539 457 *** Program change values in [pgmin] and [pgmout] are indexed from 1 \, which means that the possible values are from 1 to 128 (not 0 to 127)!, f 70;
#X text 539 346 * Release velocity is not supported \, [noteout] only sends Note On velocities and for [notein] a release velocity becomes 0 (commonly interpreted as a "note off"). Tru "note off" messages are still supported via [midiin] and [midiout]., f 70;
#X msg 838 599 128 68 100;
#X text 16 578 raw MIDI byte by byte except real-time messages (sysex supported), f 28;
#X text 357 637 <-- Open for MPE support;
#N canvas 80 23 1024 708 MPE_(MIDI-POLYPHONIC-EXPRESSION) 0;
#X obj 247 215 ctlin;
#X obj 238 277 list prepend;
#X obj 331 600 swap;
#X obj 327 568 bendin;
#X listbox 238 311 12 0 0 0 - - - 0;
#X listbox 331 629 11 0 0 0 - - - 0;
#X obj 238 347 route 1 2 3 4, f 30;
#X obj 331 669 route 1 2 3 4;
#X obj 238 420 route 74;
#X obj 238 247 swap;
#X text 331 312 channel \, controller # \, value;
#X floatatom 237 461 5 0 0 0 - - - 0;
#X floatatom 289 385 5 0 0 0 - - - 0;
#X floatatom 341 385 5 0 0 0 - - - 0;
#X floatatom 393 385 5 0 0 0 - - - 0;
#X text 21 18 MIDI Polyphonic Expression (MPE) enables things like control MIDI messages for independent notes. For that \, it uses the MIDI channel to distinguish polyphonic voices \, so that particular MIDI messages coming into that channel can be applied to a single voice note individually., f 70;
#X obj 115 597 swap;
#X listbox 115 626 11 0 0 0 - - - 0;
#X obj 115 666 route 1 2 3 4;
#X obj 111 565 touchin;
#X obj 52 226 notein;
#X obj 46 293 list prepend;
#X obj 46 263 pack;
#X obj 46 332 route 1 2 3 4, f 14;
#X listbox 69 405 9 0 0 0 - - - 0;
#X listbox 93 382 9 0 0 0 - - - 0;
#X listbox 117 359 9 0 0 0 - - - 0;
#X text 21 493 Aftertouch and pitch bend are also common messages used in MPE. You can have up to 16 voices/channels in MPE \, but in these examples we're only considering 4 channels/voices., f 70;
#X listbox 46 428 9 0 0 0 - - - 0;
#X obj 813 55 poly;
#X obj 607 545 route 1;
#X obj 607 579 route note cc touch bend;
#X listbox 607 679 11 0 0 0 - - - 0;
#X listbox 648 655 11 0 0 0 - - - 0;
#X listbox 689 631 11 0 0 0 - - - 0;
#X listbox 730 608 11 0 0 0 - - - 0;
#X text 558 19 When dealing with polyphonic synths in Pure Data \, you'll probably use [clone]. An example for that is given in the help file of [poly]. Check it out., f 61;
#X text 874 208 see also:;
#X obj 890 232 clone;
#X listbox 607 514 14 0 0 0 - - - 0;
#X obj 613 216 notein;
#X obj 607 282 list prepend;
#X obj 607 253 pack;
#X obj 688 247 list append note;
#X obj 722 276 ctlin;
#X obj 713 338 list prepend;
#X obj 713 308 swap;
#X obj 794 306 list append cc;
#X obj 737 370 touchin;
#X obj 737 405 list prepend;
#X obj 818 373 list append touch;
#X obj 761 477 list prepend;
#X obj 761 442 bendin;
#X obj 842 445 list append bend;
#X text 21 90 Pure Data does not have any special object to deal with MPE \, but this subpatch shows a simple strategy to deal with it using regular MIDI objects. Below to the left we prepend the channel number to route Note On messages. We them route by MIDI channel (which corresponds to the voice number). Below to the right we make a list that starts with the MIDI channel \, then controller number and value. You can furtherly route by controller number and 74 is commonly used in MPE., f 70;
#X text 558 85 So instead of using [route] to access independent data for each voice \, you can just send the list directly into [clone] \, which routes the message to different cloned copies of an abstraction. You should then tag each MIDI message so they can be routed and managed inside the abstraction. The example below shows a template for that. The [route 1] object gets messages for "voice 1" and its output relates to the inlet of a [clone] object., f 61;
#X text 671 546 messages for "voice 1";
#X connect 0 0 9 0;
#X connect 0 1 9 1;
#X connect 0 2 1 1;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 3 1 2 1;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 6 1 12 0;
#X connect 6 2 13 0;
#X connect 6 3 14 0;
#X connect 8 0 11 0;
#X connect 9 0 1 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 19 0 16 0;
#X connect 19 1 16 1;
#X connect 20 0 22 0;
#X connect 20 1 22 1;
#X connect 20 2 21 1;
#X connect 21 0 23 0;
#X connect 22 0 21 0;
#X connect 23 0 28 0;
#X connect 23 1 24 0;
#X connect 23 2 25 0;
#X connect 23 3 26 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 31 1 33 0;
#X connect 31 2 34 0;
#X connect 31 3 35 0;
#X connect 39 0 30 0;
#X connect 40 0 42 0;
#X connect 40 1 42 1;
#X connect 40 2 43 0;
#X connect 41 0 39 0;
#X connect 42 0 41 0;
#X connect 43 0 41 1;
#X connect 44 0 46 0;
#X connect 44 1 46 1;
#X connect 44 2 47 0;
#X connect 45 0 39 0;
#X connect 46 0 45 0;
#X connect 47 0 45 1;
#X connect 48 0 49 0;
#X connect 48 1 50 0;
#X connect 49 0 39 0;
#X connect 50 0 49 1;
#X connect 51 0 39 0;
#X connect 52 0 51 0;
#X connect 52 1 53 0;
#X connect 53 0 51 1;
#X restore 100 637 pd MPE_(MIDI-POLYPHONIC-EXPRESSION);
#X text 20 685 see also:;
#X obj 97 686 poly;
#X obj 138 686 clone;
#X obj 188 686 makenote;
#X connect 8 0 76 0;
#X connect 8 1 78 0;
#X connect 9 0 79 0;
#X connect 9 1 80 0;
#X connect 11 0 77 0;
#X connect 11 1 81 0;
#X connect 12 0 75 0;
#X connect 12 1 97 0;
#X connect 13 0 73 0;
#X connect 13 1 72 0;
#X connect 13 2 98 0;
#X connect 14 0 65 0;
#X connect 14 1 68 0;
#X connect 14 2 95 0;
#X connect 17 0 70 0;
#X connect 17 1 71 0;
#X connect 17 2 93 0;
#X connect 26 0 69 0;
#X connect 26 1 94 0;
#X connect 31 0 29 0;
#X connect 31 1 32 0;
#X connect 48 0 3 0;
#X connect 48 1 96 0;
#X connect 56 0 23 0;
#X connect 66 0 0 2;
#X connect 67 0 2 0;
#X connect 82 0 61 0;
#X connect 83 0 39 0;
#X connect 84 0 5 1;
#X connect 85 0 5 0;
#X connect 86 0 0 1;
#X connect 87 0 0 0;
#X connect 88 0 1 0;
#X connect 89 0 6 0;
#X connect 90 0 7 0;
#X connect 91 0 7 1;
#X connect 92 0 5 2;
#X connect 100 0 74 0;
#X connect 112 0 10 0;
#X connect 115 0 112 0;
#X connect 128 0 10 0;
